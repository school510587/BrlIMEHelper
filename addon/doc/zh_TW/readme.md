# Braille IME Helper
0.0 版

## 簡介
中文輸入的便利性對不習慣電腦鍵盤排列方式的點字使用者來說，一直是難纏的問題。輸入字母的語言只要有點字顯示器上面的點字鍵盤就可以直接辦到，可是對表意文字的使用者而言卻不是如此，因為字元豐富多變。中文點字規則（如注音點字）雖然已經基於發音而簡化，但是中文發音包含聲、韻、調，又有像結合韻（韻母加上介母）這樣的複雜狀況。為了減少摸讀負擔，歸責設計並不採取點字方與音素（譯註：聲、韻、調）之間一對一的對應方式。「點字輸入法助手」（以下簡稱本附加元件）在點字鍵盤與輸入法之間協調，負責將點字輸入的序列轉換成音素的序列並送給輸入法。藉由 NVDA 的幫助，本附加元件可以獲得輸入法的組字模式與點字鍵盤的輸入訊息，提供點字中打的功能。另外，本附加元件讓使用者可以替不同視窗設置不同的輸入模式。就算沒有真正的點字鍵盤，本附加元件也允許使用者把電腦鍵盤模擬成點字鍵盤，替不熟悉標準注音鍵盤排列方式的使用者大幅節省打字時間。

## 事前準備
安裝之前，請使用者先確認這些環境設定：

- 本附加元件要求 NVDA 2017.3 或以上之版本，不過此文件的敘述以 Windows 10 跟最新版 NVDA 的狀況為主。
- 「微軟注音」必須為您的預設輸入法，且預設的初始狀態為英數模式。通常出廠時微軟注音預設模式為中文輸入，您必須到「地區與語言」的設定中找到微軟注音輸入法的設定並改變它。
- 您的微軟注音必須使用標準注音鍵盤排列方式。微軟注音的出廠設定即是如此，您也可以在「地區與語言」中的微軟注音輸入法設定內找到此項目。
- 您的微軟注音必須將左邊 Shift 鍵的功能設為切換輸入法模式。微軟注音的出廠設定即是如此，而該項目在「地區與語言」中微軟注音輸入法設定的「進階」裡。
- 請避免同時執行「點字輸入法助手」與其他關於點字輸入的程式或附加元件，如 pcKbBrl 附加元件及點字酷音輸入法等。
- 建議停用 NVDA 設定中「輸入法組字」的「讀出輸入的組字字元」，在迅速打字時運行比較順暢。
- 建議將「輸入轉譯表」設為「英文（美國）八點（電腦）」，使 NVDA 行為比較符合台灣使用者的操作習慣。
- 如果您想要用電腦鍵盤來模擬點字鍵盤，必須先確認它支援 NKRO (N-key rollover)。（譯註：許多遊戲的操作也需要此特性來配合，因此選擇鍵盤時請留意它是否能用來「打遊戲」。）

## 功能
1. 透過點字鍵盤，使用者可以直接操作微軟注音輸入法，用所學的點字規則輸入國字與標點符號、數學符號等。
2. 可以把電腦鍵盤模擬成點字鍵盤，讓使用者在沒有實體點字鍵盤的時候仍可用點字的方式打字。
3. 只需要改變輸入法組字模式（通常是按 Shift），「點字輸入法助手」會自動配合調整點字的處理方式。當本附加元件在英數輸入模式中處理點字，輸入效果由 NVDA 輸入轉譯表決定。

## 點字鍵盤操作方式
- 請牢記以下熱鍵：
    * 點字 4 5 6 點 + 點字空白：在中文輸入及英數輸入之間切換，效果與按下電腦鍵盤 Shift 相同。
    * 點字第 1 點 + 點字空白：查看點字緩衝區，也就是中文模式下尚未完成組字的點字內容。（例：只有打 135 126 點還不構成字，但是此功能會提示您已經輸入了ㄅㄛ。）
    * 點字 2 4 5 點 + 點字空白：當點字輸入到一半發現打錯了，此熱鍵能直接清除點字緩衝區，讓您重新輸入正確內容。
- 點字鍵盤單獨按第 7 或第 8 點，或者 7 8 點一起按下，無論中文、英數輸入都保留 NVDA 的原始預設行為。
- 本附加元鑑不會影響點顯器的其他功能按鈕，如點字視窗前後捲動與游標定位鍵。

## 電腦鍵盤操作方式
- NvDA+X 啟用／停用電腦鍵盤模擬點字鍵盤功能。
- 電腦鍵盤上的按鍵被分為幾個類別：
    1. 點字鍵：共 9 個，鍵盤上的 F D S J K L A 與分號，依序代表點字鍵盤 1 到 8 點，空白鍵即點字鍵盤的空白。
    2. 修飾鍵：包含 Ctrl, Alt, Shift, Win 與 NVDA 鍵。本附加元件不攔截修飾鍵，以及修飾鍵被按住期間所按的任何按鍵。
    3. 保留鍵：一般操作時有特定功能的按鍵，如 Backspace, Tab, Enter, Esc 等，以及整個數字鍵盤。本附加元鑑不會攔截保留鍵。注意：主鍵盤的 0 到 9 也被設為保留鍵，讓使用者能輸入數字與指定候選字。
    4. 其他：可輸入字母與符號的非點字鍵，將被本附加元件停用。
- 「點字鍵盤操作方式」中所有輸入方式都可用上面的「點字鍵」達成。
- 主鍵盤上，點字鍵與非點字鍵（數字 0 到 9 跟其他字母、符號）一起按下會引起錯誤音效提示，並且沒有任何輸入行為發生。

## 貢獻者
- Bo-Cheng Jhan <school510587@yahoo.com.tw>

## 問題與改進方向
- 目前已知的程式錯誤：
    * 如果點字打到一半忽然切換視窗，點字的記憶將被帶到另一個視窗，正確行為是消除該記憶。
    * 當啟用「持續顯示訊息」，認何點字訊息不會隨著輸入法文字改變而消失。
- 未來可能的改進：
    * 允許使用者自訂本附加元見的預設狀態。
    * 允許使用者自訂點字鍵在電腦鍵盤上模擬的位置。
    * 允許使用者自訂符號的點字輸入方式，或者由點字轉譯表載入。
    * 讓本附加元件能與其他注音輸入法配合。
    * 讓本附加元件能與其他注音鍵盤排列方式配合。

## 修改歷程

### 0.0 版
* 初始版本。
